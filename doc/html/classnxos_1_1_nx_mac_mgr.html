<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NX-SDK API: nxos::NxMacMgr Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NX-SDK API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classnxos_1_1_nx_mac_mgr.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classnxos_1_1_nx_mac_mgr-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">nxos::NxMacMgr Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Abstract NX-SDK MAC Manager interface to gain access to NXOS MAC address table.  
 <a href="classnxos_1_1_nx_mac_mgr.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="nx__mac__mgr_8h_source.html">include/nx_mac_mgr.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a850cc17a798501d3e5e1aea213bb2a41"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnxos_1_1_nx_mac_mgr.html#a850cc17a798501d3e5e1aea213bb2a41">~NxMacMgr</a> ()</td></tr>
<tr class="separator:a850cc17a798501d3e5e1aea213bb2a41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a688eeadbbf960420b24eb13883f77008"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnxos_1_1_nx_mac_mgr.html#a688eeadbbf960420b24eb13883f77008">addStaticMac</a> (const std::string &amp;macAddr, const unsigned int vlan, const std::string &amp;intf_name)=0</td></tr>
<tr class="separator:a688eeadbbf960420b24eb13883f77008"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8853103d4b94e6153f2b0cc5f130b77"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnxos_1_1_nx_mac_mgr.html#aa8853103d4b94e6153f2b0cc5f130b77">delStaticMac</a> (const std::string &amp;macAddr, const unsigned int vlan)=0</td></tr>
<tr class="separator:aa8853103d4b94e6153f2b0cc5f130b77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab205e4819bfc3eca4396a194400d9b12"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classnxos_1_1_nx_mac.html">NxMac</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnxos_1_1_nx_mac_mgr.html#ab205e4819bfc3eca4396a194400d9b12">getMac</a> (const std::string &amp;macAddr, const unsigned int vlan, bool clearBuffer=false)=0</td></tr>
<tr class="separator:ab205e4819bfc3eca4396a194400d9b12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f4d2d56e21e3ae39969fa67774779d8"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnxos_1_1_nx_mac_mgr.html#a5f4d2d56e21e3ae39969fa67774779d8">watchAllMac</a> (bool download=true)=0</td></tr>
<tr class="separator:a5f4d2d56e21e3ae39969fa67774779d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac2eae84327fa4a94616d214ac779fac"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnxos_1_1_nx_mac_mgr.html#aac2eae84327fa4a94616d214ac779fac">unwatchAllMac</a> ()=0</td></tr>
<tr class="separator:aac2eae84327fa4a94616d214ac779fac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12dde38c22d9a27e1e3bde318d418134"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnxos_1_1_nx_mac_mgr.html#a12dde38c22d9a27e1e3bde318d418134">watchMac</a> (const unsigned int vlan, const std::string &amp;macAddr=&quot;&quot;, bool download=true)=0</td></tr>
<tr class="separator:a12dde38c22d9a27e1e3bde318d418134"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3a7878b8b604baa1e388c9b9ea9c952"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnxos_1_1_nx_mac_mgr.html#af3a7878b8b604baa1e388c9b9ea9c952">unwatchMac</a> (const unsigned int vlan, const std::string &amp;macAddr=&quot;&quot;)=0</td></tr>
<tr class="separator:af3a7878b8b604baa1e388c9b9ea9c952"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06f53bd41ddb17e6cfaef5a02b00415d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnxos_1_1_nx_mac_mgr.html#a06f53bd41ddb17e6cfaef5a02b00415d">setMacMgrHandler</a> (<a class="el" href="classnxos_1_1_nx_mac_mgr_handler.html">NxMacMgrHandler</a> *handler)=0</td></tr>
<tr class="separator:a06f53bd41ddb17e6cfaef5a02b00415d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94e3fcb535f109501d319d72a24bdead"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classnxos_1_1_nx_mac_mgr_handler.html">NxMacMgrHandler</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnxos_1_1_nx_mac_mgr.html#a94e3fcb535f109501d319d72a24bdead">getMacMgrHandler</a> ()=0</td></tr>
<tr class="separator:a94e3fcb535f109501d319d72a24bdead"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Abstract NX-SDK MAC Manager interface to gain access to NXOS MAC address table. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a850cc17a798501d3e5e1aea213bb2a41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a850cc17a798501d3e5e1aea213bb2a41">&#9670;&nbsp;</a></span>~NxMacMgr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual nxos::NxMacMgr::~NxMacMgr </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Destructor</p>
<p>To delete the MAC manager instance and its associated objects gracefully. Its cleaned on delete sdk too. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a688eeadbbf960420b24eb13883f77008"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a688eeadbbf960420b24eb13883f77008">&#9670;&nbsp;</a></span>addStaticMac()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool nxos::NxMacMgr::addStaticMac </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>macAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>vlan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>intf_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>To add static mac</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">macAddr</td><td>Mac address to add </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">vlan</td><td>: vlan value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">intf_name</td><td>Interface name that connects to this mac.</td></tr>
  </table>
  </dd>
</dl>
<pre class="fragment">Write API - NX-SDK Applications can use this API only if security profile with permit (or) throttle is 
            enabled for that application. Using this API without the appropriate security profiles will
            throw an exception. Refer to readmes/security_profiles.md for more info in NX-SDK Git repo.
</pre><dl class="section return"><dt>Returns</dt><dd>True - if successful. False - if it not successful. <div class="fragment"><div class="line">C++:</div><div class="line"><span class="preprocessor">     #include &lt;<a class="code" href="nx__sdk_8h.html">nx_sdk.h</a>&gt;</span></div><div class="line"><span class="preprocessor">     #include &lt;<a class="code" href="nx__mac__mgr_8h.html">nx_mac_mgr.h</a>&gt;</span></div><div class="line"></div><div class="line">     NxMac *mac;</div><div class="line">     sdk = <a class="code" href="classnxos_1_1_nx_sdk.html#a5050e2d26c40744b4fc7862068a83f39">nxos::NxSdk::getSdkInst</a>(argc, argv);</div><div class="line">     macMgr = sdk-&gt;getMacMgr();</div><div class="line">     <span class="keywordflow">if</span> (macMgr) {</div><div class="line">         <span class="keywordtype">bool</span> ret = macMgr-&gt;addStaticMac(<span class="stringliteral">&quot;1.1.1&quot;</span>, 2, <span class="stringliteral">&quot;eth1/1&quot;</span>);</div><div class="line">         <span class="keywordflow">if</span> (ret) {  </div><div class="line">             cout &lt;&lt; <span class="stringliteral">&quot;Static MAC added\n&quot;</span>;</div><div class="line">         } <span class="keywordflow">else</span> {</div><div class="line">             cout &lt;&lt; <span class="stringliteral">&quot;Failed to add static mac\n&quot;</span>;</div><div class="line">         }</div><div class="line">     }</div><div class="line"></div><div class="line">Python:</div><div class="line">     <span class="keyword">import</span> nx_sdk_py</div><div class="line">     sdk = nx_sdk_py.NxSdk.getSdkInst(len(sys.argv), sys.argv)</div><div class="line">     macMgr = sdk.getMacMgr()</div><div class="line">     <span class="keywordflow">if</span> macMgr:</div><div class="line">         ret = macMgr.addStaticMac(<span class="stringliteral">&quot;1.1.1&quot;</span>, 2, <span class="stringliteral">&quot;eth1/1&quot;</span>)</div><div class="line">         <span class="keywordflow">if</span> ret:</div><div class="line">            print <span class="stringliteral">&quot;static mac added\n&quot;</span></div><div class="line">         <span class="keywordflow">else</span>:</div><div class="line">            print <span class="stringliteral">&quot;Failed to add static mac\n&quot;</span></div></div><!-- fragment --></dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">ERR_INVALID</td><td>macAddr or vlan or intf_name is invalid. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa8853103d4b94e6153f2b0cc5f130b77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8853103d4b94e6153f2b0cc5f130b77">&#9670;&nbsp;</a></span>delStaticMac()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool nxos::NxMacMgr::delStaticMac </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>macAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>vlan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>To delete static mac </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">macAddr</td><td>Mac address to remove </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">vlan</td><td>: vlan value </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool True - if successful. False - if not successful. <div class="fragment"><div class="line">C++:</div><div class="line"><span class="preprocessor">     #include &lt;<a class="code" href="nx__sdk_8h.html">nx_sdk.h</a>&gt;</span></div><div class="line"><span class="preprocessor">     #include &lt;<a class="code" href="nx__mac__mgr_8h.html">nx_mac_mgr.h</a>&gt;</span></div><div class="line"></div><div class="line">     NxMac *mac;</div><div class="line">     sdk = <a class="code" href="classnxos_1_1_nx_sdk.html#a5050e2d26c40744b4fc7862068a83f39">nxos::NxSdk::getSdkInst</a>(argc, argv);</div><div class="line">     macMgr = sdk-&gt;getMacMgr();</div><div class="line">     <span class="keywordflow">if</span> (macMgr) {</div><div class="line">         <span class="keywordtype">bool</span> ret = macMgr-&gt;delStaticMac(<span class="stringliteral">&quot;1.1.1&quot;</span>, 2, <span class="stringliteral">&quot;eth1/1&quot;</span>);</div><div class="line">         <span class="keywordflow">if</span> (ret) {  </div><div class="line">             cout &lt;&lt; <span class="stringliteral">&quot;Static MAC deleted\n&quot;</span>;</div><div class="line">         } <span class="keywordflow">else</span> {</div><div class="line">             cout &lt;&lt; <span class="stringliteral">&quot;Failed to delete static mac\n&quot;</span>;</div><div class="line">         }</div><div class="line">     }</div><div class="line"></div><div class="line">Python:</div><div class="line">     <span class="keyword">import</span> nx_sdk_py</div><div class="line">     sdk = nx_sdk_py.NxSdk.getSdkInst(len(sys.argv), sys.argv)</div><div class="line">     macMgr = sdk.getMacMgr()</div><div class="line">     <span class="keywordflow">if</span> macMgr:</div><div class="line">         ret = macMgr.addStaticMac(<span class="stringliteral">&quot;1.1.1&quot;</span>, 2, <span class="stringliteral">&quot;eth1/1&quot;</span>)</div><div class="line">         <span class="keywordflow">if</span> ret:</div><div class="line">            print <span class="stringliteral">&quot;static mac deleted\n&quot;</span></div><div class="line">         <span class="keywordflow">else</span>:</div><div class="line">            print <span class="stringliteral">&quot;Failed to delete static mac\n&quot;</span></div></div><!-- fragment --></dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">ERR_INVALID</td><td>macAddr or vlan is invalid. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab205e4819bfc3eca4396a194400d9b12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab205e4819bfc3eca4396a194400d9b12">&#9670;&nbsp;</a></span>getMac()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classnxos_1_1_nx_mac.html">NxMac</a>* nxos::NxMacMgr::getMac </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>macAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>vlan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>clearBuffer</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>To get the MAC object from a given MAC address and vlan. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">macAddr</td><td>MAC address in string. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">vlan</td><td>vlan in unsigned int </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">clearBuffer</td><td>[Optional] If the MAC is present, <a class="el" href="classnxos_1_1_nx_mac_mgr.html#ab205e4819bfc3eca4396a194400d9b12">getMac()</a> creates a new MAC object. [Recommended] App owners must free/destroy the MAC object once done. If they fail to free it, NXSDK will store the object until it is freed. When clearBuffer flag is set to True it will free all the previously created MAC objects. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classnxos_1_1_nx_mac.html" title="Abstract MAC Interface used to get details about MAC entry. ">NxMac</a> Object if it exists. NULL if it does not exist.</dd></dl>
<div class="fragment"><div class="line">C++:</div><div class="line"><span class="preprocessor">     #include &lt;<a class="code" href="nx__sdk_8h.html">nx_sdk.h</a>&gt;</span></div><div class="line"><span class="preprocessor">     #include &lt;<a class="code" href="nx__mac__mgr_8h.html">nx_mac_mgr.h</a>&gt;</span></div><div class="line"></div><div class="line">     NxMac *mac;</div><div class="line">     sdk = <a class="code" href="classnxos_1_1_nx_sdk.html#a5050e2d26c40744b4fc7862068a83f39">nxos::NxSdk::getSdkInst</a>(argc, argv);</div><div class="line">     macMgr = sdk-&gt;getMacMgr();</div><div class="line">     <span class="keywordflow">if</span> (macMgr) {</div><div class="line">         mac = macMgr-&gt;getMac(<span class="stringliteral">&quot;1.1.1&quot;</span>, 2);</div><div class="line">     }</div><div class="line"></div><div class="line">Python:</div><div class="line">     <span class="keyword">import</span> nx_sdk_py</div><div class="line">     sdk = nx_sdk_py.NxSdk.getSdkInst(len(sys.argv), sys.argv)</div><div class="line">     macMgr = sdk.getMacMgr()</div><div class="line">     <span class="keywordflow">if</span> macMgr:</div><div class="line">         mac = macMgr.getMac(<span class="stringliteral">&quot;1.1.1&quot;</span>, 2)</div></div><!-- fragment --><dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">ERR_INVALID</td><td>macAddr or vlan is invalid. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a94e3fcb535f109501d319d72a24bdead"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94e3fcb535f109501d319d72a24bdead">&#9670;&nbsp;</a></span>getMacMgrHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classnxos_1_1_nx_mac_mgr_handler.html">NxMacMgrHandler</a>* nxos::NxMacMgr::getMacMgrHandler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>To get the Handler object registered with MAC Manager.</p>
<dl class="section return"><dt>Returns</dt><dd>user defined <a class="el" href="classnxos_1_1_nx_mac_mgr_handler.html" title="Abstract MacMgr callback Interface to receive MAC updates from NX-OS. ">NxMacMgrHandler</a> Obj if registered using setMacMgrHandler (or) NULL. </dd></dl>

</div>
</div>
<a id="a06f53bd41ddb17e6cfaef5a02b00415d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06f53bd41ddb17e6cfaef5a02b00415d">&#9670;&nbsp;</a></span>setMacMgrHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void nxos::NxMacMgr::setMacMgrHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classnxos_1_1_nx_mac_mgr_handler.html">NxMacMgrHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Users to overload MAC Manager Handler class to handle registered events like MAC updates and register the handler object with MAC manager to handle mac events. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname"><a class="el" href="classnxos_1_1_nx_mac_mgr_handler.html" title="Abstract MacMgr callback Interface to receive MAC updates from NX-OS. ">NxMacMgrHandler</a></td><td>object with user overloaded functions to handle mac events.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line">C++:</div><div class="line"><span class="preprocessor">   #include &lt;<a class="code" href="nx__sdk_8h.html">nx_sdk.h</a>&gt;</span></div><div class="line"><span class="preprocessor">   #include &lt;<a class="code" href="nx__mac__mgr_8h.html">nx_mac_mgr.h</a>&gt;</span></div><div class="line"></div><div class="line">   <span class="keyword">class </span>myMacMgrHandler : <span class="keyword">public</span> NxMacMgrHandler {</div><div class="line">      <span class="keyword">public</span>:</div><div class="line">         <span class="keywordtype">bool</span> postMacCb(NxMac *mac) {</div><div class="line">              <span class="comment">// Do your action</span></div><div class="line">         }</div><div class="line">   };</div><div class="line"></div><div class="line">   <span class="keywordtype">int</span>  main (<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div><div class="line">   {</div><div class="line">        NxSdk    *sdk = <a class="code" href="classnxos_1_1_nx_sdk.html#a5050e2d26c40744b4fc7862068a83f39">nxos::NxSdk::getSdkInst</a>(argc, argv);</div><div class="line">        NxMacMgr *macMgr = sdk-&gt;getMacMgr();</div><div class="line">        NxMacMgrHandler *mymaccb = <span class="keyword">new</span> myMacMgrHandler();</div><div class="line">        macMgr-&gt;setMacMgrHandler(mymaccb);</div><div class="line">   }</div><div class="line"></div><div class="line">Python:</div><div class="line">   <span class="keyword">import</span> nx_sdk_py</div><div class="line"></div><div class="line">   <span class="keyword">class </span>myMacMgrHandler(nx_sdk_py.NxMacMgrHandler):</div><div class="line"><span class="preprocessor">   ### Overloaded Callback to get MAC events</span></div><div class="line">         def postMacCb(self, nxmac):</div><div class="line"><span class="preprocessor">             # Do your action here</span></div><div class="line"></div><div class="line"><span class="preprocessor">   # Do SDK related inits in one thread.</span></div><div class="line">   def sdkThread(name,val):</div><div class="line">       sdk = nx_sdk_py.NxSdk.getSdkInst(len(sys.argv), sys.argv)</div><div class="line">       macMgr = sdk.getMacMgr()</div><div class="line">       mymaccb = myMacMgrHandler()</div><div class="line">       macMgr.<a class="code" href="classnxos_1_1_nx_mac_mgr.html#a06f53bd41ddb17e6cfaef5a02b00415d">setMacMgrHandler</a>(mymaccb)</div></div><!-- fragment --> 
</div>
</div>
<a id="aac2eae84327fa4a94616d214ac779fac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac2eae84327fa4a94616d214ac779fac">&#9670;&nbsp;</a></span>unwatchAllMac()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool nxos::NxMacMgr::unwatchAllMac </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>To unsubscribe for all MAC updates.</p>
<dl class="section return"><dt>Returns</dt><dd>bool True - if successful. False - if not successful.</dd></dl>
<div class="fragment"><div class="line">C++:</div><div class="line"><span class="preprocessor">     #include &lt;<a class="code" href="nx__sdk_8h.html">nx_sdk.h</a>&gt;</span></div><div class="line"><span class="preprocessor">     #include &lt;<a class="code" href="nx__mac__mgr_8h.html">nx_mac_mgr.h</a>&gt;</span></div><div class="line"></div><div class="line">     NxMac *mac;</div><div class="line">     sdk = <a class="code" href="classnxos_1_1_nx_sdk.html#a5050e2d26c40744b4fc7862068a83f39">nxos::NxSdk::getSdkInst</a>(argc, argv);</div><div class="line">     macMgr = sdk-&gt;getMacMgr();</div><div class="line"></div><div class="line">     macMgr-&gt;unwatchAllMac();</div><div class="line"></div><div class="line">Python:</div><div class="line">     <span class="keyword">import</span> nx_sdk_py</div><div class="line">     sdk = nx_sdk_py.NxSdk.getSdkInst(len(sys.argv), sys.argv)</div><div class="line">     macMgr = sdk.getMacMgr()</div><div class="line"></div><div class="line">     macMgr.unwatchAllMac()</div></div><!-- fragment --> 
</div>
</div>
<a id="af3a7878b8b604baa1e388c9b9ea9c952"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3a7878b8b604baa1e388c9b9ea9c952">&#9670;&nbsp;</a></span>unwatchMac()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool nxos::NxMacMgr::unwatchMac </td>
          <td>(</td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>vlan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>macAddr</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>To un-subscribe for any updates to this vlan and mac address. To un-subscribe all MAC address for specific vlan, use macAddr as "". </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">vlan</td><td>vlan in unsigned int. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">macAddr</td><td>[Optional] MAC address in string. If not specified, "" is used to watch on all MAC address. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool True - if successful. False - if not successful.</dd></dl>
<div class="fragment"><div class="line">C++:</div><div class="line"><span class="preprocessor">     #include &lt;<a class="code" href="nx__sdk_8h.html">nx_sdk.h</a>&gt;</span></div><div class="line"><span class="preprocessor">     #include &lt;<a class="code" href="nx__mac__mgr_8h.html">nx_mac_mgr.h</a>&gt;</span></div><div class="line"></div><div class="line">     NxMac *mac;</div><div class="line">     sdk = <a class="code" href="classnxos_1_1_nx_sdk.html#a5050e2d26c40744b4fc7862068a83f39">nxos::NxSdk::getSdkInst</a>(argc, argv);</div><div class="line">     macMgr = sdk-&gt;getMacMgr();</div><div class="line"></div><div class="line">     macMgr-&gt;unwatchMac(2, <span class="stringliteral">&quot;1.1.1&quot;</span>);</div><div class="line"></div><div class="line">Python:</div><div class="line">     <span class="keyword">import</span> nx_sdk_py</div><div class="line">     sdk = nx_sdk_py.NxSdk.getSdkInst(len(sys.argv), sys.argv)</div><div class="line">     macMgr = sdk.getMacMgr()</div><div class="line"></div><div class="line">     macMgr.unwatchMac(2, <span class="stringliteral">&quot;1.1.1&quot;</span>)</div></div><!-- fragment --><dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">ERR_INVALID</td><td>macAddr or vlan is invalid. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5f4d2d56e21e3ae39969fa67774779d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f4d2d56e21e3ae39969fa67774779d8">&#9670;&nbsp;</a></span>watchAllMac()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool nxos::NxMacMgr::watchAllMac </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>download</em> = <code>true</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>To receive/subscribe for all MAC updates. On any update to any MAC, user overloaded postMacCb handler will be called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">download</td><td>[Optional] If set to true, all existing macs in the system will be notified to the application via the registered callback.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool True - if successful. False - if not successful. <div class="fragment"><div class="line">C++:</div><div class="line"><span class="preprocessor">     #include &lt;<a class="code" href="nx__sdk_8h.html">nx_sdk.h</a>&gt;</span></div><div class="line"><span class="preprocessor">     #include &lt;<a class="code" href="nx__mac__mgr_8h.html">nx_mac_mgr.h</a>&gt;</span></div><div class="line"></div><div class="line">     <span class="keyword">class </span>myMacMgrHandler : <span class="keyword">public</span> NxMacMgrHandler {</div><div class="line">        <span class="keyword">public</span>:</div><div class="line">           <span class="keywordtype">bool</span> postMacCb(NxMac *mac) {</div><div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;MAC changed&quot;</span>;</div><div class="line">           }</div><div class="line">     };</div><div class="line"></div><div class="line">     <span class="keywordtype">int</span>  main (<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div><div class="line">     {</div><div class="line">          NxSdk    *sdk;</div><div class="line">          NxMacMgr *macMgr;</div><div class="line">          NxMac    *mac;</div><div class="line"></div><div class="line">          NxMacMgrHandler *mymaccb = <span class="keyword">new</span> myMacMgrHandler();</div><div class="line">          sdk = <a class="code" href="classnxos_1_1_nx_sdk.html#a5050e2d26c40744b4fc7862068a83f39">nxos::NxSdk::getSdkInst</a>(argc, argv);</div><div class="line">          macMgr = sdk-&gt;getMacMgr();</div><div class="line">          macMgr-&gt;setMacMgrHandler(mymaccb);</div><div class="line"></div><div class="line">          macMgr-&gt;watchAllMac();</div><div class="line">     }</div><div class="line"></div><div class="line">Python:</div><div class="line">   <span class="keyword">import</span> nx_sdk_py</div><div class="line"></div><div class="line">   <span class="keyword">class </span>myMacMgrHandler(nx_sdk_py.NxMacMgrHandler):</div><div class="line"><span class="preprocessor">   ### Overloaded Callback to get MAC events</span></div><div class="line">         def postMacCb(self, nxmac):</div><div class="line">             print &quot;MAC has changed&quot;</div><div class="line"></div><div class="line"><span class="preprocessor">   # Do SDK related inits in one thread.</span></div><div class="line">   def sdkThread(name,val):</div><div class="line">       sdk = nx_sdk_py.NxSdk.getSdkInst(len(sys.argv), sys.argv)</div><div class="line">       macMgr = sdk.getMacMgr()</div><div class="line">       mymaccb = myMacMgrHandler()</div><div class="line">       macMgr.<a class="code" href="classnxos_1_1_nx_mac_mgr.html#a06f53bd41ddb17e6cfaef5a02b00415d">setMacMgrHandler</a>(mymaccb)</div><div class="line"></div><div class="line">       macMgr.<a class="code" href="classnxos_1_1_nx_mac_mgr.html#a5f4d2d56e21e3ae39969fa67774779d8">watchAllMac</a>()</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="a12dde38c22d9a27e1e3bde318d418134"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12dde38c22d9a27e1e3bde318d418134">&#9670;&nbsp;</a></span>watchMac()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool nxos::NxMacMgr::watchMac </td>
          <td>(</td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>vlan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>macAddr</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>download</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>To receive/subscribe for any updates to this vlan and mac address. On any update to this MAC, users overloaded postMacCb handler will be called. To subscribe all MAC address for specific vlan, use macAddr as "". NOTE: Forward referencing is allowed for a non created MAC i.e API can be called even if the MAC is not yet created. Subscribing all vlans for specific MAC address is not supported. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">vlan</td><td>vlan in unsigned int. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">macAddr</td><td>[Optional] MAC address in string. If not specified, "" is used to watch on all MAC address. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">download</td><td>[Optional] Specify to get sync download of existing MAC objects or not (default True) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool True - if successful. False - if not successful.</dd></dl>
<div class="fragment"><div class="line">C++:</div><div class="line"><span class="preprocessor">     #include &lt;<a class="code" href="nx__sdk_8h.html">nx_sdk.h</a>&gt;</span></div><div class="line"><span class="preprocessor">     #include &lt;<a class="code" href="nx__mac__mgr_8h.html">nx_mac_mgr.h</a>&gt;</span></div><div class="line"></div><div class="line">     <span class="keyword">class </span>myMacMgrHandler : <span class="keyword">public</span> NxMacMgrHandler {</div><div class="line">        <span class="keyword">public</span>:</div><div class="line">           <span class="keywordtype">bool</span> postMacCb(NxMac *mac) {</div><div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;MAC changed&quot;</span>;</div><div class="line">           }</div><div class="line">     };</div><div class="line"></div><div class="line">     <span class="keywordtype">int</span>  main (<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div><div class="line">     {</div><div class="line">          NxSdk    *sdk;</div><div class="line">          NxMacMgr *macMgr;</div><div class="line">          NxMac    *mac;</div><div class="line"></div><div class="line">          NxMacMgrHandler *mymaccb = <span class="keyword">new</span> myMacMgrHandler();</div><div class="line">          sdk = <a class="code" href="classnxos_1_1_nx_sdk.html#a5050e2d26c40744b4fc7862068a83f39">nxos::NxSdk::getSdkInst</a>(argc, argv);</div><div class="line">          macMgr = sdk-&gt;getMacMgr();</div><div class="line">          macMgr-&gt;setMacMgrHandler(mymaccb);</div><div class="line"></div><div class="line">          macMgr-&gt;watchMac(2, <span class="stringliteral">&quot;1.1.1&quot;</span>);</div><div class="line">     }</div><div class="line"></div><div class="line">Python:</div><div class="line">   <span class="keyword">import</span> nx_sdk_py</div><div class="line"></div><div class="line">   <span class="keyword">class </span>myMacMgrHandler(nx_sdk_py.NxMacMgrHandler):</div><div class="line"><span class="preprocessor">   ### Overloaded Callback to get MAC events</span></div><div class="line">         def postMacCb(self, nxmac):</div><div class="line">             print &quot;MAC has changed&quot;</div><div class="line"></div><div class="line"><span class="preprocessor">   # Do SDK related inits in one thread.</span></div><div class="line">   def sdkThread(name,val):</div><div class="line">       sdk = nx_sdk_py.NxSdk.getSdkInst(len(sys.argv), sys.argv)</div><div class="line">       macMgr = sdk.getMacMgr()</div><div class="line">       mymaccb = myMacMgrHandler()</div><div class="line">       macMgr.<a class="code" href="classnxos_1_1_nx_mac_mgr.html#a06f53bd41ddb17e6cfaef5a02b00415d">setMacMgrHandler</a>(mymaccb)</div><div class="line"></div><div class="line">       macMgr.<a class="code" href="classnxos_1_1_nx_mac_mgr.html#a12dde38c22d9a27e1e3bde318d418134">watchMac</a>(2, &quot;1.1.1&quot;)</div></div><!-- fragment --><dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">ERR_INVALID</td><td>macAddr or vlan is invalid. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/<a class="el" href="nx__mac__mgr_8h_source.html">nx_mac_mgr.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>nxos</b></li><li class="navelem"><a class="el" href="classnxos_1_1_nx_mac_mgr.html">NxMacMgr</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
